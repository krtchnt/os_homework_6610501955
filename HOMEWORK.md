# OS Report 2025
สำหรับรายงานวิชา Operating Systems ประจำปี 2025 ให้นิสิตเลือกทำงานสองในสามข้อ ดังนี้

_**ไม่ว่าจะเลือกข้อใด ก็จะได้คะแนนการบ้านรวมเท่ากัน หากทำสองข้อครบ**_
## 1. Intro to Parallel Programming
ให้นิสิตเขียนโปรแกรมเพื่อหาตัวประกอบของจำนวนเต็มขนาดใหญ่ n (factorization) โดยใช้เครื่องมือได้แก่ MPI4Py หรือ C OpenMP อย่างใดอย่างหนึ่ง โดยนิสิตจะต้อง

1. สร้างโปรแกรมที่ทำ factorization โดยใช้การประมวลผลแบบขนานได้อย่างถูกต้อง
2. เปรียบเทียบประสิทธิภาพแบบหลายมิติ
  1. จาก 1 thread ไปจนถึงหลาย thread
  2. n ที่มีจำนวนน้อย ไปจนถึงจำนวนมาก
  3. การตั้งค่าการทำงานอื่นๆ ของโปรแกรม
  4. การตั้งค่าของระบบปฏิบัติการของนิสิต
  5. วิเคราะห์ทั้งความเร็วในการทำงานและหน่วยความจำที่ต้องใช้
3. พล็อตข้อมูลเป็นกราฟ
4. วิเคราะห์ว่าโปรแกรมของนิสิตมี parallel part vs serial part ในสัดส่วนประมาณเท่าใด โดยอาศัย Amdahl’s Law และข้อมูลการประมวลผลที่วัดค่าได้จริง
5. เขียนทั้งหมดเป็นรายงานที่มีเนื้อหาครบถ้วนและต่อเนื่องกัน

ทั้งนี้ นิสิตสามารถเลือกใช้อัลกอริทีมใดก็ได้ แต่ต้องอธิบายอัลกอริทึมที่ใช้ด้วย
## 2. Copy on Write
ให้นิสิตเขียนโปรแกรมที่แสดงให้เห็นถึงการทำงานของกระบวนการ Copy on Write โดยโปรแกรมจะต้อง

1. จองพื้นที่หน่วยความจำที่มีปริมาณมากจนสังเกตได้ แต่ไม่มากจนเกินไป (ประมาณ 50-100 MB) และใช้หน่วยความจำนั้น เช่น สร้างอาร์เรย์
2. Fork ออกมาเป็น process ใหม่ (ไม่ใช่สร้างเธรด)
3. แสดงให้เห็นว่า ในตอนที่เพิ่ง fork ใหม่ โปรเซสหลักและโปรเซสลูกมีการแชร์หน่วยความจำกัน โดยอาจสังเกตและบันทึกจาก Resident Set Size (RSS)
4. เปลี่ยนข้อมูลในโปรเซสลูก เพื่อให้มี memory page ต่างจากโปรเซสหลัก
5. สังเกตและบันทึก RSS ที่เปลี่ยนไป
6. ทำซ้ำ กับข้อมูลที่มีขนาดแตกต่างกัน
7. **เขียนทั้งหมดเป็นรายงานที่มีเนื้อหาครบถ้วนและต่อเนื่องกัน**

## 3. Deadlocks
ให้นิสิตเขียนโปรแกรมที่สร้างหลายโปรเซสหรือเธรด และมีลักษณะของการทำงานที่มีกระบวนการดังนี้

1. Deadlock Avoidance
2. Deadlock Detection
3. Deadlock Resolution (แก้ไขภาวะ deadlock ระหว่างโปรเซสลูก)

องค์ประกอบที่ต้องมีในงาน ได้แก่

1. Simulated Resources: งานจะต้องมีการสร้างทรัพยากรต่างๆ ขึ้นมา แต่ห้ามใช้ทรัพยากรจริงของระบบ
2. Coffman’s Deadlock Conditions: มีการสร้างสถานการณ์ที่เข้าสู่สภาวะ Coffman’s Deadlock Conditions (Mutual Exclusion, Hold and Wait, No Preemption, Circular Wait)
3. Avoidance: แสดงเหตุการณ์ที่จะต้องใช้ Banker’s Algorithm
4. Detection: เช่น การสร้าง Wait-for Graph
5. Resolution: แก้ไข deadlock เช่น โดยการบังคับให้คืนทรัพยากรทั้งหมด หรือยกเลิกโปรเซสหรือเธรดลูกต่างๆ
6. **เขียนทั้งหมดเป็นรายงานที่มีเนื้อหาครบถ้วนและต่อเนื่องกัน**

ทั้งนี้ นิสิตไม่จำเป็น (และไม่ควร) ใช้ทรัพยากรจริงในระบบปฏิบัติการ และไม่จำเป็นต้องใช้ภาษาซีหรือเขียนโปรแกรมในระดับล่าง
## เงื่อนไขสำหรับทุกโปรแกรม
### DO NO HARM
นิสิตจะต้องไม่สร้างโปรแกรมที่รบกวนการทำงานของระบบปฏิบัติการ และต้องมีการตรวจสอบ (อย่างน้อยด้วยตัวเอง) แล้วว่าโปรแกรมจะไม่สร้างปัญหาใหักับระบบปฏิบัติการ
### **ให้วิธีรันหรือคอมไพล์ด้วย**
**ถ้าโปรแกรมไม่ใช่ Python หรือ single-file C/C++ code นิสิตต้องทำ makefile ให้ด้วย**
### **ทุกงานต้องมี README**
**ให้ทำไฟล์ README ระบุชื่อนิสิต และ การคอมไพล์หรือรันโปรแกรม เป็นอย่างต่ำ (1 ไฟล์ สำหรับทั้งการบ้าน)**

หากโปรแกรมของนิสิตมีการอัพโหลดขึ้น GitHub นิสิตจะต้องเพิ่มข้อความระบุด้วยว่าโปรแกรมดังกล่าว ทำขึ้นเพื่อการศึกษา และไม่ใช่โปรแกรมที่นำไปใช้งานจริง
### ทำแค่สองข้อ
หากทำมาเกิน เรา (ทีมสอน) จะตรวจแค่สองข้อแรก
โครงสร้างไฟล์สำหรับการส่งงาน
```tree
os_homework_{student_id}
|-- 1_parallel_{student_id}
|   |-- parallel.{c, cpp, py, etc}
|   |-- *other source files (if any)*
|   |-- *Makefile (if multiple files, or main program not C/C++/Py)*
|   └-- BUILD{.md, .txt, none, etc}
|-- 2_cow_{student_id}
|   |-- cow.{c, cpp, py, etc}
|   |-- *other source files (if any)*
|   |-- *Makefile (if multiple files, or main program not C/C++/Py)*
|   └-- *BUILD{.md, .txt, none, etc}*
|-- 3_deadlock_{student_id}
|   |-- deadlock.{c, cpp, py, etc}
|   |-- *other source files (if any)*
|   |-- *Makefile (if multiple files, or main program not C/C++/Py)*
|   └-- *BUILD{.md, .txt, none, etc}*
|-- README{.md, .txt, none, etc}
└-- report_{student_id}.pdf
```

**ชื่อไฟล์ที่เป็นตัวเอนและมีไฮไลต์ ไม่จำเป็นต้องมี (ภายใต้บางเงื่อนไข) / กรุณาอ่านคำสั่งด้านล่างด้วย ทั้งหมดนี้เพื่อให้ TA ตรวจงานสะดวกรวดเร็วขึ้น**

**โฟลเดอร์สำหรับการส่งงาน ให้จัดเป็นโฟลเดอร์เดียว ชื่อ `os_homework_` ตามด้วยรหัสนิสิต**

**ภายในโฟลเดอร์นั้น ให้สร้างไฟล์ได้แก่ README file หลัก 1 ไฟล์, และไฟล์รายงาน (ไฟล์เดียว) 1 ไฟล์**

**และสร้างโฟลเดอร์ย่อยสำหรับแต่ละข้อ ข้อใดที่ไม่ทำ ไม่ต้องสร้างโฟลเดอร์ของข้อนั้น โดยโฟลเดอร์ย่อยต้องมีไฟล์โค้ดหลัก 1 ไฟล์ ที่ชื่อตรงกับชื่อโจทย์ หากมีมากกว่า 1 ไฟล์ หรือไม่ใช่ภาษา C/C++/Python จะต้องมี Makefile หรือระบุวิธีคอมไพล์มาในไฟล์ BUILD**

**สำหรับ Makefile: คำสั่ง `make` ต้องเพียงพอที่จะใช้สร้างโปรแกรมที่ทำงานได้**

**ทั้งหมดให้ทำตามแผนภาพต้นไม้ข้างต้น**

## Required Deliverables
1. รายงาน
2. โค้ดโปรแกรมทั้งหมด
## การตรวจผลงาน
1. ความถูกต้องพื้นฐาน เทคนิคทั่วไป 40%
2. ความสามารถในการวิเคราะห์ กระบวนการวิเคราะห์ที่มีความละเอียดลุ่มลึก 40%
  1. ไม่จำเป็นต้องใช้อัลกอริทึมยาก แต่เน้นที่ความละเอียดในการวิเคราะห์
3. การอ้างอิงแหล่งข้อมูลที่น่าเชื่อถือ 10%
  1. ควรอ้างอิงแหล่งข้อมูลต้นฉบับ หรือข้อมูลปฐมภูมิด้วย
4. ความชัดเจน ทักษะการอธิบาย 10%
  1. การอธิบาย ต้องอยู่ในระดับที่เขียนให้เพื่อนร่วมชั้นอ่านรู้เรื่องได้ด้วย
